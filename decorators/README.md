# Decorators

ASP を実現できる。

## ASP とは

Aspect Oriented Programming のこと。

簡潔に言ってしまえば、「元のソースコードに変更を加えずに新たな処理を追加することができるプログラミングパラダイム」。

共通処理を抜き出して、プログラムのいろんなところで、横断的(Aspect)に呼び出す。

こうすることでログ出力のような、本来プログラムが持つべき本質的機能と予備的機能を分離できる。

Crosscutting Concern（横断的関心事）（「相互に関連しあっていて，何か機能変更などがあった場合に 同時に変更されるものは，できるだけ１つのモジュールにまとめておきたい」 という要求がありますが， 何らかの理由でモジュールとしてまとめられない 関心事のこと）

AOP を使用する最大の利点は、無関係なコードをメソッドの主な機能から別の場所に分離することです。最も良い例はロギングまたは認可です。

コード自体を変更することなく、既存のコード（アドバイス）に追加の動作を追加することによって行われます。

付加情報を class や method 等に付与するための仕組みです。
実行時に処理が加えられます。

先頭に @ を付けると、異なるコード コンストラクターが呼び出されても常に呼び出される関数を定義できます。この関数は、クラスが構成されたとき、メソッドが呼び出されたとき、プロパティにアクセスされたとき (または変更があったとき)、パラメーターがメソッドや関数の呼び出しの一部として渡されたときに呼び出されます

以下に割り当てることができる特別な種類の宣言。

- クラス
- メソッド
- アクセサ
- プロパティ
- パラメータ

デコレータは、`@expression`という形式を使用します。

ここで、`expression` は、デコレーションされた宣言に関する情報とともに実行時に呼び出される関数に評価されなければなりません。

```ts
// decorator factory
function color(value: string) {
  // decorator
  return function(target) {};
}
```
